<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Testing module imports</title>

    <script type="module">
      import {
        isValidType,
        makeQueryString,
        Client
      } from '../../dev/dist/module/index.js';

      console.log(`Successfully imported via ESModule import`);

      document.getElementById('client').addEventListener('click', async function() {
        const result = await Client.DecodeVin('3VWD07AJ5EM388202').catch(err => err);
        console.log(result);
        document.getElementById('clientResults').innerText = result;
      });

      document
        .getElementById('isValidType')
        .addEventListener('click', async function() {
          const result = await isValidType({
            type: 'string',
            value: 'testing'
          });
          console.log(`isValidType result: ${result}`);
          document.getElementById('isValidTypeResults').innerText = result;
        });

      document
        .getElementById('makeQueryString')
        .addEventListener('click', async function() {
          const result = await makeQueryString({
            format: 'json',
            modelYear: 2009
          });
          console.log(`makeQueryString result: ${result}`);
          document.getElementById('makeQueryStringResults').innerText = result;
        });
    </script>
  </head>
  <body>
    <h2>
      <btn id="client">Click to console.log NHTSA.DecodeVin() results</btn>
      <div id="clientResults"></div>
    </h2>
    <h2>
      <btn id="isValidType">Click to console.log isValidType() results</btn>
      <div id="isValidTypeResults"></div>
    </h2>
    <h2>
      <btn id="makeQueryString"
        >Click to console.log makeQueryString() results</btn
      >
      <div id="makeQueryStringResults"></div>
    </h2>
  </body>
</html>
