<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Testing module imports</title>

    <script type="module">
      console.log(`Successfully imported via ESModule import`);

      document.getElementById('DecodeWMI').addEventListener('click', async () => {
        /* Lazy Loading */
        const { DecodeWMI } = await import('../../dev/dist/module/DecodeWMI.js')
          .catch(err => err);

        const decoder = new DecodeWMI();

        const { Results } = await decoder.DecodeWMI('WVW')
          .catch(err => err)

        console.log(Results)
        document.querySelector('#DecodeWMIResults').innerHTML = `${JSON.stringify(Results)}` 
      });

      document
        .getElementById('isValidVin')
        .addEventListener('click', async function() {
          const { isValidVin } = await import('../../dev/dist/module/isValidVin.js')
          const result = isValidVin('WVWHV71K69W144983');
          console.log(`isValidVin result: ${result}`);
          document.getElementById('isValidVinResults').innerText = result;
        });
    </script>
  </head>
  <body>
    <h2>
      <btn id="DecodeWMI">Click to console.log NHTSA.DecodeWMI() results</btn>
      <div id="DecodeWMIResults"></div>
    </h2>
    <h2>
      <btn id="isValidVin">Click to console.log isValidVin() results</btn>
      <div id="isValidVinResults"></div>
    </h2>
  </body>
</html>
