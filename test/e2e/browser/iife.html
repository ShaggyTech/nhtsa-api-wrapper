<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Testing IIFE bundle imports</title>

    <script
      type="text/javascript"
      src="../../../dev/dist/browser/iife.js"
    ></script>
  </head>
  <body>
    <h2>
      <btn id="client">Click to console.log NHTSA.DecodeVin() results</btn>
      <div id="clientResults"></div>
    </h2>
    <h2>
      <div id="isValidVin">Click to console.log isValidVin() results</div>
      <div id="isValidVinResults"></div>
    </h2>
  </body>
  <script type="text/javascript">
    const client = NHTSA.Client;

    document.getElementById('client').addEventListener('click', async function() {
    const { Results } = await client.DecodeVin('3VWD07AJ5EM388202').catch(err => err);
    console.log(Results);
    document.getElementById('clientResults').innerText = JSON.stringify(Results);
    });
  
    document.getElementById('isValidVin').addEventListener('click', function() {
      // package.libraryName
      const result = client.isValidVin('WVWHV71K69W144983');
      console.log(result);
      document.getElementById('isValidVinResults').innerText = result;
    });

    console.log(`Successfully imported via IIFE bundle`);
  </script>
</html>
